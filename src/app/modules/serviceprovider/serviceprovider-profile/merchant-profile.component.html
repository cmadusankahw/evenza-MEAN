
<!--Business Profile View-->
<div class="container-fluid" *ngIf="!editmode">
  <section class="px-md-5 mx-md-5 dark-grey-text">

    <!--customize profile section-->
      <div class="row cust-row" *ngIf="isowner">
              <div class="col-md-8">
                <p>Need to change something? Customize your Profile. </p>
              </div>
              <div class="col-md-4">
                <a type="button" mdbBtn color="primary" class="waves-light btn btn-md  cust-btn"
                (click)="editmode = !editmode" mdbWavesEffect>Customize Profile
                </a>
              </div>
      </div>


    <!--profile header-->
    <div class="container-fluid header-cls">
      <div class="row f-image">
        <img src='./assets/images/back/uprofile.jpg' alt="Profile Cover" class="feature-img" >
      </div>
      <div class="row logo-cls">
        <div class="col-md-2">
            <img src={{merchant[0].profile_pic}} alt="User Pic" class="img-thumbnail logo-img">
        </div>
        <div class="col-md-10">
          <h2 class="txt-title"> {{merchant[0].first_name}}  {{merchant[0].last_name}} </h2>
        </div>
      </div>

      <!-- profile content-->
      <div class="page-content">
        <div class="content-title" >
          Personal Details
        </div>
          <hr>

              <!--row 1-->
            <div class="row">
              <div class="col-md-5 inst-text">
                <mdb-icon fas icon="envelope"></mdb-icon> <span> Your Email </span>
                <br>
                <p class="infotxt"> This is your Primary email-address </p>
              </div>

              <div class="col-md-7 profile-text">
                  <span> {{merchant[0].email}}</span>
              </div>
            </div>

               <!--row 2-->
               <div class="row">
                <div class="col-md-5 inst-text">
                  <mdb-icon fas icon="envelope"></mdb-icon> <span> Your Contact No </span>
                  <br>
                  <p class="infotxt"> This number will be used for two-factor authentication </p>
                </div>

                <div class="col-md-7 profile-text">
                    <span> {{merchant[0].contact_no}}</span>
                </div>
              </div>

                <!--row 2-->
                <div class="row">
                  <div class="col-md-5 inst-text">
                    <mdb-icon fas icon="mercury"></mdb-icon> <span> Gender</span>
                  </div>

                  <div class="col-md-7 profile-text">
                      <span> {{merchant[0].gender}}</span>
                  </div>
                </div>

                  <!--row 2-->
                  <div class="row div-content">
                    <div class="col-md-5 inst-text">
                      <mdb-icon fas icon="birthday-cake"></mdb-icon> <span> Date of Birth</span>
                    </div>

                    <div class="col-md-7 profile-text">
                        <span> {{merchant[0].date_of_birth}}</span>
                    </div>
                  </div>

                    <!--row 2-->
                    <div class="row div-content">
                      <div class="col-md-5 inst-text">
                        <mdb-icon fas icon="home"></mdb-icon> <span> Postal Address </span>
                        <br>
                        <p class="infotxt"> Provided address will b used for postal communications. </p>
                      </div>

                      <div class="col-md-7 profile-text">
                          <span> {{merchant[0].address_line1}}</span>
                          <br>
                          <span> {{merchant[0].address_line2}}</span>
                      </div>
                    </div>
                    <br>
              <div class="content-title" >
                Account Details
              </div>
                <hr>
               <!--row 3-->
               <div class="row">
                <div class="col-md-5 inst-text">
                  <mdb-icon fas icon="user"></mdb-icon> <span> Account Type </span>
                </div>

                <div class="col-md-7 profile-text">
                    <span> {{merchant[0].merchant_type}}</span>
                </div>
              </div>

                <!--row 4-->
                <div class="row div-content">
                  <div class="col-md-5 inst-text">
                    <mdb-icon fas icon="key"></mdb-icon> <span> Password </span>
                  </div>

                  <div class="col-md-7 profile-text">
                      <span> ******* </span>
                      <a type="button" mdbBtn color="secondary"
                      class="waves-light btn btn-md  cust-btn btn-lm" mdbWavesEffect (click)="changePassword.show()">
                        Change Password
                  </a>
                  </div>
                </div>

                  <!--row 3-->
               <div class="row div-content">
                <div class="col-md-5 inst-text">
                  <mdb-icon fas icon="calendar-check"></mdb-icon> <span> Account Created Date </span>
                </div>

                <div class="col-md-7 profile-text">
                    <span> {{merchant[0].reg_date}}</span>
                </div>
              </div>
                <hr>
        </div>
     </div>
 </section>
</div>


<!--customize profile section-->
<div class="container-fluid" *ngIf="editmode">
  <section class="px-md-5 mx-md-5 dark-grey-text">

      <!--edit content-->
      <div class="pd-top-min text-center">

        <div class="content-title page-content" >
          Edit Personal Details
          </div>

        <hr>

        <!--form-->
       <form class="service-form pd-top-min">

        <!--row1-->
        <div class="row">

          <div class="col-md-3 inst-text" >
            <mdb-icon fas icon="award"></mdb-icon> <span> Change Profile Picture: </span>
          </div>

          <div class="col-md-3 text-center">
            <a role="button" mdbWavesEffect (click)="sidea.click()">
              <img src="{{merchant[0].profile_pic != null ? merchant[0].profile_pic : './assets/images/merchant/nopic.png'}}" alt="Profile Picture" class="img-thumbnail logo-img-edit">
            </a>
            <input type="file" hidden="true" id="sidea" #sidea>
            <p><b>Click to Upload</b></p>
          </div>

        </div>


        <div class="row page-content">
          <div class="col-md-3 inst-text">
            <mdb-icon fas icon="file-signature"></mdb-icon> <span> Your Name: </span>
          </div>

        <div class="col-md-7 text-center">
          <div class="row">
            <div class="col-md-6">
              <mat-form-field class="service-full-width">
                <mat-label>First Name </mat-label>
                <input matInput   value="{{ merchant[0].first_name }}" required>
              </mat-form-field>
            </div>
            <div class="col-md-6">
              <mat-form-field class="service-full-width">
                <mat-label>Last Name </mat-label>
                <input matInput   value="{{ merchant[0].last_name }}" required>
              </mat-form-field>
            </div>
          </div>
         </div>
       </div>


         <!--row 2-->
         <div class="row page-content">

          <div class="col-md-3 inst-text">
            <mdb-icon fas icon="envelope"></mdb-icon> <span> Email Address:</span>
            <p class="infotxt"> If changed, re-verification required</p>
          </div>

          <div class="col-md-7 text-center">
            <mat-form-field class="service-full-width">
              <mat-label>Email Address here </mat-label>
              <input matInput   value="{{ merchant[0].email }}" required>
            </mat-form-field>
          </div>
         </div>

             <!--row 3-->
             <div class="row  page-content">

              <div class="col-md-3 inst-text">
                <mdb-icon fas icon="mercury"></mdb-icon> <span> Gender:</span>
              </div>

              <div class="col-md-7 text-center">
                <mat-form-field class="service-full-width">
                  <mat-label>Select Gender</mat-label>
                  <mat-select [value]="merchant[0].gender" required>
                    <mat-option value="option1">Male</mat-option>
                    <mat-option value="option2">Female</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
             </div>

              <!--row 4-->
         <div class="row page-content">

          <div class="col-md-3 inst-text">
            <mdb-icon fas icon="birthday-cake"></mdb-icon> <span> Date of Birth:</span>
          </div>

          <div class="col-md-7 text-center">
            <mat-form-field class="service-full-width">
              <mat-label> Select Your Birthday </mat-label>
              <input matInput [matDatepicker]="picker" />
              <mat-datepicker-toggle
                matSuffix
                [for]="picker"
              ></mat-datepicker-toggle>
              <mat-datepicker #picker [startAt]="convertDate(merchant[0].date_of_birth)"></mat-datepicker>
            </mat-form-field>
          </div>
         </div>

               <!--row 6-->
            <div class="row  page-content">

              <div class="col-md-3 inst-text">
                <mdb-icon fas icon="home"></mdb-icon> <span> Postal Address:</span>
                <p class="infotxt">This address will be used to postal communication </p>
              </div>

              <div class="col-md-7 text-center">
                <mat-form-field class="service-full-width">
                  <mat-label>Address Line 1 </mat-label>
                  <input matInput value="{{merchant[0].address_line1}}" required>
                </mat-form-field>
                <mat-form-field class="service-full-width">
                  <mat-label>Address Line 2 </mat-label>
                  <input matInput value="{{merchant[0].address_line2}}">
                </mat-form-field >
              </div>
             </div>



             <div class="content-title page-content" >
              Change Account Settings
              </div>

            <hr>
           <!--row 4-->
           <div class="row page-content">

            <div class="col-md-3 inst-text">
              <mdb-icon fas icon="check-circle"></mdb-icon> <span> Verification Status:</span>
              <br>
              <p class="infotxt"> To create and manage a business, Identity need to be verified.</p>
            </div>

            <div class="col-md-7 text-center">
              <div class="verify-stat text-center" *ngIf="merchant[0].isverified">
                <mdb-icon far icon="check-circle"> </mdb-icon> Identity Verified
              </div>
              <div class="verify-stat text-center" *ngIf="!merchant[0].isverified" style="color:darkred; ">
                <mdb-icon far icon="times-circle"></mdb-icon> Identity Not Verified
                <br>
              <a type="button" mdbBtn color="secondary"
              class="waves-light btn btn-md btn-edt" mdbWavesEffect outline="yes" (click)="idVerify.show()">
              Verify Identity</a>
            </div>
            </div>
           </div>
           <hr>
           <br>
         </form>
    </div>
  </section>

  <!--save buttons-->
  <div class="text-center">
    <a type="button" mdbBtn color="secondary"
    class="waves-light btn btn-md  cust-btn btn-tab" mdbWavesEffect (click)="editmode = !editmode">Save Changes</a>
    <a type="button" mdbBtn color="secondary"
    class="waves-light btn btn-md  cust-btn btn-tab" mdbWavesEffect outline="yes" (click)="editmode = !editmode">Discard</a>
    </div>
</div>




<!--change password Modal-->
<div
  mdbModal
  #changePassword="mdbModal"
  class="modal fade"
  tabindex="-1"
  role="dialog"
  aria-labelledby="myBasicModalLabel"
  [config]="{ backdrop: false, ignoreBackdropClick: true }"
  aria-hidden="true"
>
  <div
    class="modal-dialog modal-dialog-centered"
    role="document"
    style="overflow-y: initial !important"
  >
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="close pull-right"
          aria-label="Close"
          (click)="changePassword.hide()"
        >
          <span aria-hidden="true">×</span>
        </button>
        <h4 class="modal-title w-100" id="myModalLabel" >
          Change Password
        </h4>
      </div>
      <div class="modal-body " style="height: 330px; overflow-y: auto;" >

         <!--row 2-->
         <div class="row page-content">

          <div class="col-md-5 inst-text">
             <span> Current Password:</span>
          </div>

          <div class="col-md-7 text-center">
            <mat-form-field class="service-full-width">
              <mat-label>Current Password here </mat-label>
              <input type="password" matInput required>
            </mat-form-field>
          </div>
         </div>
         <hr>

         <!--row 2-->
         <div class="row page-content">

          <div class="col-md-5 inst-text">
            <span> New Password:</span>
          </div>

          <div class="col-md-7 text-center">
            <mat-form-field class="service-full-width">
              <mat-label>New Password here </mat-label>
              <input type="password" matInput required>
            </mat-form-field>
          </div>
         </div>

         <!--row 2-->
         <div class="row">

          <div class="col-md-5 inst-text">
            <span> Retype Password:</span>
          </div>

          <div class="col-md-7 text-center">
            <mat-form-field class="service-full-width">
              <mat-label>Retype Password here </mat-label>
              <input type="password" matInput required>
            </mat-form-field>
          </div>
         </div>

      </div>

      <div class="modal-footer">
        <button
          mdbBtn
          color="secondary"
          (click)="changePassword.hide()"
          mdbWavesEffect
        >
          Change Password
        </button>
        <button
          mdbBtn
          color="secondary"
          outline="yes"
          (click)="changePassword.hide()"
          mdbWavesEffect
        >
          Close
        </button>
      </div>
    </div>
  </div>
</div>



<!--verify id Modal-->
<div
  mdbModal
  #idVerify="mdbModal"
  class="modal fade"
  tabindex="-1"
  role="dialog"
  aria-labelledby="myBasicModalLabel"
  [config]="{ backdrop: false, ignoreBackdropClick: true }"
  aria-hidden="true"
>
  <div
    class="modal-dialog modal-dialog-centered"
    role="document"
    style="overflow-y: initial !important"
  >
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="close pull-right"
          aria-label="Close"
          (click)="idVerify.hide()"
        >
          <span aria-hidden="true">×</span>
        </button>
        <h4 class="modal-title w-100" id="myModalLabel" >
          Verify Identity
        </h4>
      </div>
      <div class="modal-body " style="height: 400px; overflow-y: auto;" >
         <app-id-verify></app-id-verify>
      </div>

      <div class="modal-footer">
        <button
          mdbBtn
          color="link"
          (click)="idVerify.hide()"
          mdbWavesEffect
        >
          Close
        </button>
      </div>
    </div>
  </div>
</div>
